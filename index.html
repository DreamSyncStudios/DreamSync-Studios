<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>DreamSync Creative Portal — The Future of Narrative Gaming</title>
  <meta name="description" content="DreamSync Studios, founded in 2025, crafts narrative-led games. Explore our high-fidelity games, meet our founders, and stay updated." />
  <meta name="theme-color" content="#050406" />
  <link rel="icon" href="DremSyncLogo.png" type="image/jpeg" />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,600;0,700;1,600&family=Plus+Jakarta+Sans:wght@200;300;400;500;600;700;800&family=Space+Grotesk:wght@300;700&display=swap" rel="stylesheet">

  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

  <style>
    :root {
      --bg-pure: #050406;
      --gold: #d4af37;
      --gold-bright: #f9d976;
      --gold-deep: #8a6d3b;
      --text-main: #e9e5e0;
      --text-dim: #a19d96;
      --glass: rgba(255, 255, 255, 0.03);
      --glass-border: rgba(212, 175, 55, 0.15);
      --accent-glow: rgba(212, 175, 55, 0.08);
      --font-serif: 'Cormorant Garamond', serif;
      --font-sans: 'Plus Jakarta Sans', sans-serif;
      --font-mono: 'Space Grotesk', sans-serif;
      --selection-bg: rgba(212, 175, 55, 0.3);
    }

    /* Core Reset & Scrollbar */
    * { 
      margin: 0; 
      padding: 0; 
      box-sizing: border-box; 
      -webkit-font-smoothing: antialiased; 
      cursor: none; 
      selection-background-color: var(--selection-bg);
    }
    
    ::-webkit-scrollbar { width: 4px; }
    ::-webkit-scrollbar-track { background: var(--bg-pure); }
    ::-webkit-scrollbar-thumb { background: var(--gold-deep); border-radius: 10px; }
    ::-webkit-scrollbar-thumb:hover { background: var(--gold); }

    body { 
      background: var(--bg-pure); 
      color: var(--text-main); 
      font-family: var(--font-sans); 
      overflow-x: hidden; 
      min-height: 100vh;
      line-height: 1.6;
    }

    /* Interactive UI Elements */
    #custom-cursor { 
      position: fixed; 
      width: 20px; 
      height: 20px; 
      border: 1px solid var(--gold); 
      border-radius: 50%; 
      pointer-events: none; 
      z-index: 9999; 
      transform: translate(-50%, -50%); 
      transition: width 0.3s cubic-bezier(0.23, 1, 0.32, 1), height 0.3s cubic-bezier(0.23, 1, 0.32, 1), background 0.3s; 
      mix-blend-mode: difference; 
    }
    #cursor-dot { 
      position: fixed; 
      width: 4px; 
      height: 4px; 
      background: var(--gold); 
      border-radius: 50%; 
      pointer-events: none; 
      z-index: 9999; 
      transform: translate(-50%, -50%); 
    }

    /* Background Architecture */
    .bg-canvas { 
      position: fixed; 
      inset: 0; 
      z-index: 0; 
      background: radial-gradient(circle at 50% 50%, #0a090c 0%, #050406 100%); 
    }
    #stars-container { position: absolute; inset: 0; }
    .star { 
      position: absolute; 
      background: white; 
      border-radius: 50%; 
      filter: blur(0.5px); 
      pointer-events: none; 
      animation: pulse-star var(--d) infinite ease-in-out;
    }
    @keyframes pulse-star {
      0%, 100% { opacity: 0.2; transform: scale(1); }
      50% { opacity: 1; transform: scale(1.2); }
    }

    #main-wrapper { 
      position: relative; 
      z-index: 10; 
      width: 100%; 
      max-width: 1400px; 
      margin: 0 auto; 
      padding: 0 2rem; 
    }

    /* Navigation Architecture */
    header { 
      padding: 3rem 0; 
      display: flex; 
      justify-content: space-between; 
      align-items: center; 
      mix-blend-mode: difference; 
    }
    .nav-link { 
      font-family: var(--font-mono); 
      font-size: 0.75rem; 
      font-weight: 700; 
      letter-spacing: 0.2em; 
      text-transform: uppercase; 
      color: var(--text-dim); 
      position: relative; 
      transition: 0.4s cubic-bezier(0.23, 1, 0.32, 1); 
      background: none; 
      border: none; 
      padding: 0.5rem 0;
    }
    .nav-link:hover, .nav-link.active { color: var(--gold); }
    .nav-link::after {
      content: '';
      position: absolute;
      bottom: -4px;
      left: 0;
      width: 0%;
      height: 1px;
      background: var(--gold);
      transition: width 0.4s cubic-bezier(0.23, 1, 0.32, 1);
    }
    .nav-link.active::after, .nav-link:hover::after { width: 100%; }

    /* Component Architecture */
    .ds-card { 
      background: var(--glass); 
      backdrop-filter: blur(20px); 
      border: 1px solid var(--glass-border); 
      border-radius: 24px; 
      padding: 3rem; 
      position: relative; 
      overflow: hidden; 
      transition: 0.6s cubic-bezier(0.165, 0.84, 0.44, 1); 
    }
    .ds-card:hover { 
      border-color: rgba(212, 175, 55, 0.4); 
      background: rgba(255, 255, 255, 0.05); 
      transform: translateY(-10px); 
      box-shadow: 0 20px 40px rgba(0,0,0,0.4);
    }

    .hero-title { 
      font-family: var(--font-serif); 
      font-size: clamp(3rem, 10vw, 8rem); 
      line-height: 0.9; 
      font-weight: 700; 
      letter-spacing: -0.03em; 
    }
    .glint-effect { 
      background: linear-gradient(135deg, #fff 0%, var(--gold) 35%, #fff 50%, var(--gold) 65%, #fff 100%); 
      background-size: 400% 400%; 
      -webkit-background-clip: text; 
      -webkit-text-fill-color: transparent; 
      animation: glint-animation 12s ease infinite; 
    }
    @keyframes glint-animation { 
      0% { background-position: 0% 50%; } 
      50% { background-position: 100% 50%; } 
      100% { background-position: 0% 50%; } 
    }

    .btn-download { 
      position: relative; 
      padding: 1rem 2.5rem; 
      background: var(--gold); 
      color: black; 
      font-family: var(--font-mono); 
      font-weight: 700; 
      font-size: 0.8rem; 
      text-transform: uppercase; 
      border-radius: 12px; 
      transition: 0.4s cubic-bezier(0.23, 1, 0.32, 1); 
      display: inline-flex; 
      align-items: center; 
      gap: 0.75rem; 
      overflow: hidden; 
      border: none;
    }
    .btn-download:hover { 
      background: var(--gold-bright); 
      transform: scale(1.05); 
      box-shadow: 0 0 30px rgba(212, 175, 55, 0.4); 
    }

    .input-field { 
      background: rgba(255,255,255,0.02); 
      border: 1px solid var(--glass-border); 
      border-radius: 12px; 
      padding: 1.25rem; 
      color: white; 
      width: 100%; 
      transition: 0.3s; 
      font-family: var(--font-sans);
    }
    .input-field:focus { 
      outline: none; 
      border-color: var(--gold); 
      background: rgba(255,255,255,0.05); 
      box-shadow: 0 0 20px rgba(212, 175, 55, 0.1);
    }

    /* Admin Infrastructure */
    #admin-panel { 
      display: none; 
      position: fixed; 
      inset: 0; 
      z-index: 1000; 
      background: rgba(0,0,0,0.98); 
      backdrop-filter: blur(40px); 
      align-items: center; 
      justify-content: center; 
    }
    #login-panel, #register-panel, #profile-panel, #forgot-panel { 
      display: none; 
      position: fixed; 
      inset: 0; 
      z-index: 1000; 
      background: rgba(0,0,0,0.98); 
      backdrop-filter: blur(40px); 
      align-items: center; 
      justify-content: center; 
    }
    .admin-logged-in .staff-only { display: block !important; }
    
    /* FIXED: Explicitly force hidden unless the authorized class is present */
    .staff-only { display: none !important; }

    /* Reveal Mechanics */
    .reveal { opacity: 0; transform: translateY(40px); transition: all 1.2s cubic-bezier(0.165, 0.84, 0.44, 1); }
    .reveal.active { opacity: 1; transform: translateY(0); }

    /* Section Logistics */
    .section-content { display: none; padding-bottom: 10rem; }
    .section-content.active { display: block; }

    /* Responsive Guardrails */
    @media (max-width: 1024px) {
      .hero-title { font-size: 6rem; }
      .ds-card { padding: 2rem; }
    }
    @media (max-width: 768px) {
      #custom-cursor, #cursor-dot { display: none; }
      * { cursor: auto !important; }
      header { flex-direction: column; gap: 2rem; }
      .hero-title { font-size: 4rem; text-align: center; }
      .nav-link { font-size: 0.6rem; letter-spacing: 0.1em; }
    }
  
  /* === ADDITIVE FEATURES v1 === */
  .aurora {
    position: absolute;
    inset: -20%;
    background:
      radial-gradient(60% 40% at 20% 30%, rgba(212,175,55,.12), transparent 60%),
      radial-gradient(50% 30% at 80% 20%, rgba(249,217,118,.08), transparent 60%),
      radial-gradient(40% 40% at 50% 80%, rgba(138,109,59,.10), transparent 60%);
    filter: blur(40px);
    animation: auroraFloat 22s linear infinite;
    pointer-events: none;
  }
  @keyframes auroraFloat {
    0% { transform: translateY(0) rotate(0deg); }
    50% { transform: translateY(-4%) rotate(3deg); }
    100% { transform: translateY(0) rotate(0deg); }
  }

  .toggle-checkbox {
    appearance: none;
    width: 40px;
    height: 20px;
    background: rgba(255,255,255,0.1);
    border-radius: 10px;
    position: relative;
    cursor: pointer;
    transition: 0.3s;
  }
  .toggle-checkbox:checked {
    background: var(--gold);
  }
  .toggle-checkbox::before {
    content: '';
    position: absolute;
    width: 16px;
    height: 16px;
    background: white;
    border-radius: 50%;
    top: 2px;
    left: 2px;
    transition: 0.3s;
  }
  .toggle-checkbox:checked::before {
    transform: translateX(20px);
  }

  .floating-particles {
    position: absolute;
    inset: 0;
    pointer-events: none;
    overflow: hidden;
  }
  .particle {
    position: absolute;
    width: 4px;
    height: 4px;
    background: var(--gold);
    border-radius: 50%;
    animation: float-particle 15s linear infinite;
  }
  @keyframes float-particle {
    0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
    10% { opacity: 1; }
    90% { opacity: 1; }
    100% { transform: translateY(-100px) rotate(360deg); opacity: 0; }
  }
  .magnetic {
    transition: transform .2s ease;
  }
  .ripple {
    position: absolute; border-radius: 9999px; transform: scale(0);
    background: rgba(212,175,55,.25); animation: ripple .6s ease-out;
    pointer-events:none;
  }
  @keyframes ripple {
    to { transform: scale(8); opacity: 0; }
  }

</style>
</head>
<body>
  <div class="aurora"></div>

  <div class="bg-canvas">
    <div id="stars-container"></div>
  </div>

  <div id="custom-cursor"></div>
  <div id="cursor-dot"></div>

  <div id="admin-panel">
    <div class="max-w-md w-full p-10 ds-card text-center">
      <h2 class="text-3xl font-serif text-gold mb-6 italic">Secure Staff Login</h2>
      <p class="text-xs font-mono text-zinc-500 mb-8 uppercase tracking-widest">Biometric override required</p>
      <input type="password" id="admin-pass" class="input-field mb-6 text-center" placeholder="••••••••">
      <div class="flex flex-col gap-4">
        <button onclick="authAdmin()" class="btn-download w-full justify-center">Authenticate</button>
        <button onclick="toggleAdmin(false)" class="text-[10px] font-mono text-zinc-600 hover:text-white transition-colors uppercase tracking-[0.3em]">Abort Session</button>
      </div>
    </div>
  </div>

  <div id="login-panel">
    <div class="max-w-md w-full p-10 ds-card text-center">
      <h2 class="text-3xl font-serif text-gold mb-6 italic">User Login</h2>
      <p class="text-xs font-mono text-zinc-500 mb-8 uppercase tracking-widest">Access your account</p>
      <input type="text" id="login-username" class="input-field mb-4" placeholder="Username">
      <input type="password" id="login-password" class="input-field mb-6" placeholder="Password">
      <button onclick="toggleForgot(true)" class="text-[10px] font-mono text-gold hover:underline mb-4">Forgot Password?</button>
      <div class="flex flex-col gap-4">
        <button onclick="loginUser()" class="btn-download w-full justify-center">Login</button>
        <button onclick="toggleLogin(false)" class="text-[10px] font-mono text-zinc-600 hover:text-white transition-colors uppercase tracking-[0.3em]">Cancel</button>
      </div>
    </div>
  </div>

  <div id="register-panel">
    <div class="max-w-md w-full p-10 ds-card text-center">
      <h2 class="text-3xl font-serif text-gold mb-6 italic">User Registration</h2>
      <p class="text-xs font-mono text-zinc-500 mb-8 uppercase tracking-widest">Create your account</p>
      <input type="email" id="register-email" class="input-field mb-4" placeholder="Email">
      <input type="text" id="register-username" class="input-field mb-4" placeholder="Username">
      <input type="password" id="register-password" class="input-field mb-6" placeholder="Password">
      <div class="flex flex-col gap-4">
        <button onclick="registerUser()" class="btn-download w-full justify-center">Register</button>
        <button onclick="toggleRegister(false)" class="text-[10px] font-mono text-zinc-600 hover:text-white transition-colors uppercase tracking-[0.3em]">Cancel</button>
      </div>
    </div>
  </div>

  <div id="profile-panel">
    <div class="max-w-md w-full p-10 ds-card text-center">
      <h2 class="text-3xl font-serif text-gold mb-6 italic">Edit Profile</h2>
      <p class="text-xs font-mono text-zinc-500 mb-8 uppercase tracking-widest">Update your information</p>
      <input type="email" id="profile-email" class="input-field mb-4" placeholder="Email">
      <input type="text" id="profile-username" class="input-field mb-4" placeholder="Username">
      <input type="password" id="profile-password" class="input-field mb-6" placeholder="New Password">
      <div class="flex flex-col gap-4">
        <button onclick="updateProfile()" class="btn-download w-full justify-center">Update</button>
        <button onclick="logoutUser()" class="text-[10px] font-mono text-red-400 hover:text-red-300 uppercase tracking-[0.3em]">Logout</button>
        <button onclick="toggleProfile(false)" class="text-[10px] font-mono text-zinc-600 hover:text-white transition-colors uppercase tracking-[0.3em]">Cancel</button>
      </div>
    </div>
  </div>

  <div id="forgot-panel">
    <div class="max-w-md w-full p-10 ds-card text-center">
      <h2 class="text-3xl font-serif text-gold mb-6 italic">Reset Password</h2>
      <p class="text-xs font-mono text-zinc-500 mb-8 uppercase tracking-widest">Enter your email</p>
      <input type="email" id="forgot-email" class="input-field mb-6" placeholder="Email">
      <div class="flex flex-col gap-4">
        <button onclick="resetPassword()" class="btn-download w-full justify-center">Send Reset</button>
        <button onclick="toggleForgot(false)" class="text-[10px] font-mono text-zinc-600 hover:text-white transition-colors uppercase tracking-[0.3em]">Cancel</button>
      </div>
    </div>
  </div>

  <div id="main-wrapper">
    <header>
      <div class="flex items-center gap-5 group" onclick="switchToTab('home')" style="cursor: pointer;">
        <div class="relative">
          <img src="DremSyncLogo.png" alt="DS" class="w-16 h-16 rounded-2xl border border-gold/20 group-hover:border-gold/50 transition-all duration-700">
          <div class="absolute inset-0 rounded-2xl bg-gold/10 opacity-0 group-hover:opacity-100 transition-opacity blur-lg"></div>
        </div>
        <div>
          <span class="block text-2xl font-serif text-white tracking-wide">DreamSync</span>
          <span class="block text-[9px] font-mono text-gold tracking-[0.4em] uppercase">Creative Portal</span>
        </div>
      </div>
      <nav class="flex gap-10">
        <button onclick="switchToTab('home')" id="nav-home" class="nav-link active">Index</button>
        <button onclick="switchToTab('games')" id="nav-games" class="nav-link">Archive</button>
        <button onclick="switchToTab('updates')" id="nav-updates" class="nav-link">Logs</button>
        <button onclick="switchToTab('team')" id="nav-team" class="nav-link">Founders</button>
        <button onclick="switchToTab('contact')" id="nav-contact" class="nav-link">Direct</button>
        <button onclick="switchToTab('profile')" id="nav-profile" class="nav-link">Profile</button>
        <button onclick="toggleLogin(true)" id="login-btn" class="nav-link">Login</button>
        <button onclick="toggleRegister(true)" id="register-btn" class="nav-link">Register</button>
      </nav>
      <div id="user-profile" class="hidden flex items-center gap-4">
        <span id="profile-username" class="text-[10px] font-mono text-gold"></span>
        <button onclick="toggleProfile(true)" class="text-[10px] font-mono border border-gold/20 px-4 py-2 rounded-full hover:bg-gold hover:text-black transition-all">Profile</button>
      </div>
      <button onclick="toggleAdmin(true)" class="hidden md:block text-[10px] font-mono border border-gold/20 px-6 py-2 rounded-full hover:bg-gold hover:text-black transition-all group overflow-hidden relative">
        <span class="relative z-10">TERMINAL</span>
      </button>
    </header>

    <div class="floating-particles" id="particles-container"></div>

    <main>
      <section id="content-home" class="section-content active">
        <div class="py-20 text-center">
          <div class="mb-6 reveal">
            <span class="px-4 py-1.5 border border-gold/30 rounded-full text-[10px] font-mono text-gold tracking-widest uppercase bg-gold/5">Portal Interface v4.0.2</span>
          </div>
          <h1 class="hero-title reveal">WE BUILD <br> <span class="glint-effect">DREAMS.</span></h1>
          <p class="max-w-2xl mx-auto mt-10 text-xl text-text-dim font-light reveal">A narrative-driven studio born in 2024 specializing in psychological atmospheric design and ultra-high fidelity interactive experiences.</p>
          
          <div class="grid md:grid-cols-3 gap-8 mt-32">
            <div class="ds-card text-left group reveal">
              <span class="text-gold font-mono text-[10px] uppercase mb-4 block">Core Directive</span>
              <h3 class="text-2xl font-serif mb-4">Unrivaled Immersion</h3>
              <p class="text-text-dim text-sm">We believe that every pixel should serve a purpose. Our proprietary narrative engine ensures that environmental storytelling is not just a feature, but the foundation.</p>
              <div class="mt-4 flex items-center gap-2">
                <div class="w-2 h-2 bg-gold rounded-full animate-pulse"></div>
                <span class="text-xs text-zinc-500">Active Development</span>
              </div>
            </div>
            <div class="ds-card text-left group reveal">
              <span class="text-gold font-mono text-[10px] uppercase mb-4 block">The Vision</span>
              <h3 class="text-2xl font-serif mb-4">Narrative Excellence</h3>
              <p class="text-text-dim text-sm">DreamSync Studios doesn't just make games; we craft digital legacies. From psychological horror to experimental thrillers, we push the boundaries of what stories can do.</p>
              <div class="mt-4 flex items-center gap-2">
                <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                <span class="text-xs text-zinc-500">Vision Achieved</span>
              </div>
            </div>
            <div class="ds-card text-left group reveal">
              <span class="text-gold font-mono text-[10px] uppercase mb-4 block">Technical Philosophy</span>
              <h3 class="text-2xl font-serif mb-4">Future Tech</h3>
              <p class="text-text-dim text-sm">Utilizing the latest in high-fidelity rendering and procedural generation, we create worlds that feel alive, breathing, and responsive to the player's soul.</p>
              <div class="mt-4 flex items-center gap-2">
                <div class="w-2 h-2 bg-blue-500 rounded-full"></div>
                <span class="text-xs text-zinc-500">Innovation Lab</span>
              </div>
            </div>
          </div>

          <!-- Additional Features Section -->
          <div class="grid md:grid-cols-2 gap-12 mt-20 reveal">
            <div class="ds-card p-8">
              <h3 class="text-3xl font-serif text-gold mb-6">Our Technology Stack</h3>
              <div class="space-y-4">
                <div class="flex justify-between items-center">
                  <span class="text-sm font-mono">Narrative Engine</span>
                  <div class="w-32 h-2 bg-zinc-800 rounded-full overflow-hidden">
                    <div class="w-full h-full bg-gradient-to-r from-gold to-gold-bright animate-pulse"></div>
                  </div>
                </div>
                <div class="flex justify-between items-center">
                  <span class="text-sm font-mono">AI Integration</span>
                  <div class="w-32 h-2 bg-zinc-800 rounded-full overflow-hidden">
                    <div class="w-3/4 h-full bg-gradient-to-r from-gold to-gold-bright"></div>
                  </div>
                </div>
                <div class="flex justify-between items-center">
                  <span class="text-sm font-mono">VR Support</span>
                  <div class="w-32 h-2 bg-zinc-800 rounded-full overflow-hidden">
                    <div class="w-1/2 h-full bg-gradient-to-r from-gold to-gold-bright"></div>
                  </div>
                </div>
                <div class="flex justify-between items-center">
                  <span class="text-sm font-mono">Cross-Platform</span>
                  <div class="w-32 h-2 bg-zinc-800 rounded-full overflow-hidden">
                    <div class="w-5/6 h-full bg-gradient-to-r from-gold to-gold-bright"></div>
                  </div>
                </div>
              </div>
            </div>
            <div class="ds-card p-8">
              <h3 class="text-3xl font-serif text-gold mb-6">Community Stats</h3>
              <div class="grid grid-cols-2 gap-6">
                <div class="text-center">
                  <div class="text-4xl font-serif text-gold mb-2">10K+</div>
                  <div class="text-xs font-mono text-zinc-500 uppercase tracking-widest">Active Players</div>
                </div>
                <div class="text-center">
                  <div class="text-4xl font-serif text-gold mb-2">50+</div>
                  <div class="text-xs font-mono text-zinc-500 uppercase tracking-widest">Game Prototypes</div>
                </div>
                <div class="text-center">
                  <div class="text-4xl font-serif text-gold mb-2">24/7</div>
                  <div class="text-xs font-mono text-zinc-500 uppercase tracking-widest">Support Online</div>
                </div>
                <div class="text-center">
                  <div class="text-4xl font-serif text-gold mb-2">∞</div>
                  <div class="text-xs font-mono text-zinc-500 uppercase tracking-widest">Possibilities</div>
                </div>
              </div>
            </div>
          </div>

          <!-- Testimonials Section -->
          <div class="mt-20 reveal">
            <h3 class="text-4xl font-serif text-center mb-12">What Players <span class="text-gold">Say</span></h3>
            <div class="grid md:grid-cols-3 gap-8">
              <div class="ds-card p-6 text-center">
                <div class="text-gold text-6xl mb-4">"</div>
                <p class="text-text-dim text-sm italic mb-4">DreamSync's games don't just entertain—they haunt your dreams. The Silent Guest changed how I perceive reality.</p>
                <div class="text-xs font-mono text-zinc-500">- Alex Chen, Game Developer</div>
              </div>
              <div class="ds-card p-6 text-center">
                <div class="text-gold text-6xl mb-4">"</div>
                <p class="text-text-dim text-sm italic mb-4">The attention to detail in their atmospheric design is unparalleled. Every shadow tells a story.</p>
                <div class="text-xs font-mono text-zinc-500">- Sarah Kim, Art Director</div>
              </div>
              <div class="ds-card p-6 text-center">
                <div class="text-gold text-6xl mb-4">"</div>
                <p class="text-text-dim text-sm italic mb-4">These aren't games; they're experiences that redefine interactive storytelling.</p>
                <div class="text-xs font-mono text-zinc-500">- Marcus Rodriguez, Writer</div>
              </div>
            </div>
          </div>
          
          <div class="mt-20 flex justify-center gap-6 reveal">
            <button onclick="switchToTab('games')" class="btn-download">Explore Archive</button>
            <button onclick="switchToTab('contact')" class="px-8 py-4 border border-zinc-800 rounded-xl font-mono text-xs uppercase tracking-widest hover:border-gold transition-all">Support Terminal</button>
          </div>
        </div>
      </section>

      <section id="content-games" class="section-content">
        <div class="mb-20">
          <h2 class="text-5xl font-serif mb-4">Game <span class="text-gold">Archive</span></h2>
          <p class="text-text-dim font-light">Access our stable builds and experimental prototypes.</p>
        </div>

        <div class="space-y-12">
          <div class="ds-card grid md:grid-cols-2 gap-12 items-center reveal">
            <div class="relative group overflow-hidden rounded-xl bg-zinc-900 aspect-video flex items-center justify-center border border-white/5">
              <span class="text-zinc-800 font-serif text-2xl italic">Screaming Forest Visualization</span>
              <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"></div>
            </div>
            <div>
              <div class="flex items-center gap-4 mb-4">
                <span class="px-3 py-1 bg-gold text-black text-[9px] font-bold rounded-full uppercase">Stable Build</span>
                <span class="text-xs font-mono text-zinc-500">v1.1</span>
              </div>
              <h4 class="text-4xl font-serif mb-4">The Screaming Forest</h4>
              <p class="text-text-dim leading-relaxed mb-8">You were on an exploration trip and started driving through a forest. The world around you became dark and you crashed. You ended up moving the car a bit near a cabin and stayed the night. When you woke up, your car parts were mysteriously gone</p>
              <div class="flex items-center gap-6">
                <button onclick="downloadGame('ScreamingForest_v1.1.zip', 'https://drive.google.com/file/d/1ZQW9z5dkYHuHaiZ17DwJglpO_5x_H--z/view?usp=sharing')" class="btn-download">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
                  Internal Download
                </button>
                <span class="text-xs font-mono text-zinc-600 uppercase tracking-widest">252 GB Archive</span>
              </div>
            </div>
          </div>

          <div class="ds-card grid md:grid-cols-2 gap-12 items-center reveal">
            <div class="relative group overflow-hidden rounded-xl bg-zinc-900 aspect-video flex items-center justify-center border border-white/5">
              <span class="text-zinc-800 font-serif text-2xl italic">The Silent Guest Visualization</span>
              <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"></div>
            </div>
            <div>
              <div class="flex items-center gap-4 mb-4">
                <span class="px-3 py-1 border border-gold text-gold text-[9px] font-bold rounded-full uppercase">Stable Build</span>
                <span class="text-xs font-mono text-zinc-500">v1.1</span>
              </div>
              <h4 class="text-4xl font-serif mb-4">The Silent Guest</h4>
              <p class="text-text-dim leading-relaxed mb-8">Your friend asked you to housekeep for him...</p>
              <div class="flex items-center gap-6">
                <button onclick="downloadGame('SilentGuest_v1.1.zip', 'https://drive.google.com/file/d/1ilOlbbHnzihAea9MZN39-HY8ZR4ctgni/view?usp=sharing')" class="btn-download">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
                  Internal Download
                </button>
                <span class="text-xs font-mono text-zinc-600 uppercase tracking-widest">1.5 GB Archive</span>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section id="content-updates" class="section-content">
        <div class="flex justify-between items-end mb-16">
          <div>
            <h2 class="text-5xl font-serif mb-4">Development <span class="text-gold">Logs</span></h2>
            <p class="text-text-dim">Real-time status updates from the studio floor.</p>
          </div>
          <button onclick="addLog()" class="staff-only px-6 py-2 border border-gold/30 rounded-xl text-xs font-mono text-gold hover:bg-gold/10 transition-all uppercase tracking-widest">+ New Registry</button>
        </div>
        <div id="logs-list" class="grid gap-8">
          </div>
      </section>

      <section id="content-team" class="section-content">
        <h2 class="text-5xl font-serif mb-20 text-center">The <span class="text-gold">Founders</span></h2>
        <div class="grid md:grid-cols-2 gap-10 max-w-5xl mx-auto">
          <div class="ds-card text-center p-12 reveal">
            <div class="w-40 h-40 mx-auto mb-8 rounded-full border-2 border-gold/20 p-2 relative">
              <div class="w-full h-full rounded-full bg-zinc-900 overflow-hidden relative">
                <div class="absolute inset-0 bg-gradient-to-tr from-gold/10 to-transparent"></div>
              </div>
              <div class="absolute -bottom-2 right-4 bg-gold w-8 h-8 rounded-full flex items-center justify-center text-black text-[10px] font-bold">A1</div>
            </div>
            <h3 class="text-3xl font-serif mb-2">Aneesh Saraswat</h3>
            <p class="text-gold font-mono text-[10px] uppercase tracking-[0.3em] mb-6">Founder</p>
            <p class="text-text-dim text-sm italic leading-relaxed font-light">
              "Founder and lead developer of DreamSync Studios. I am dedicated to create immersive and user driven games that give gamers a reason to play"
            </p>
          </div>
          <div class="ds-card text-center p-12 reveal">
            <div class="w-40 h-40 mx-auto mb-8 rounded-full border-2 border-gold/20 p-2 relative">
              <div class="w-full h-full rounded-full bg-zinc-900 overflow-hidden relative">
                <div class="absolute inset-0 bg-gradient-to-tr from-gold/10 to-transparent"></div>
              </div>
              <div class="absolute -bottom-2 right-4 bg-gold w-8 h-8 rounded-full flex items-center justify-center text-black text-[10px] font-bold">A2</div>
            </div>
            <h3 class="text-3xl font-serif mb-2">Nathan Pinto</h3>
            <p class="text-gold font-mono text-[10px] uppercase tracking-[0.3em] mb-6">Co-Founder and Community manager</p>
            <p class="text-text-dim text-sm italic leading-relaxed font-light">
              "Co-Founder and developer of DreamSync Studios. My role is to ensure that our company gains attention and collect members to light this community up."
            </p>
          </div>
        </div>
      </section>

      <section id="content-contact" class="section-content">
        <div class="max-w-4xl mx-auto">
          <div class="text-center mb-16">
            <h2 class="text-5xl font-serif mb-4">Direct <span class="text-gold">Link</span></h2>
            <p class="text-text-dim">Transmission portal for inquiries, press requests, and support sync.</p>
          </div>
          <form id="contact-form" class="ds-card space-y-8 relative overflow-hidden">
            <div class="absolute top-0 right-0 p-8 opacity-5 pointer-events-none">
              <svg class="w-32 h-32" fill="currentColor" viewBox="0 0 24 24"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/></svg>
            </div>
            <div class="grid md:grid-cols-2 gap-8">
              <div class="space-y-2">
                <label class="text-[10px] font-mono text-gold uppercase tracking-widest ml-1">Identity</label>
                <input type="text" name="name" placeholder="Your Name" class="input-field" required>
              </div>
              <div class="space-y-2">
                <label class="text-[10px] font-mono text-gold uppercase tracking-widest ml-1">Frequency</label>
                <input type="email" name="email" placeholder="Email Address" class="input-field" required>
              </div>
            </div>
            <div class="space-y-2">
              <label class="text-[10px] font-mono text-gold uppercase tracking-widest ml-1">Message Content</label>
              <textarea name="message" placeholder="Compose your transmission..." class="input-field h-48 resize-none" required></textarea>
            </div>
            <button type="submit" class="btn-download w-full justify-center group">
              <span class="relative z-10">Initiate Sync</span>
              <div class="absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform"></div>
            </button>
            <div id="form-feedback" class="hidden text-center text-xs font-mono text-gold animate-pulse tracking-[0.4em]"></div>
          </form>
        </div>
      </section>

      <section id="content-profile" class="section-content">
        <div class="max-w-6xl mx-auto">
          <div class="text-center mb-16">
            <h2 class="text-5xl font-serif mb-4">User <span class="text-gold">Profile</span></h2>
            <p class="text-text-dim">Manage your account and preferences</p>
          </div>

          <div class="grid lg:grid-cols-3 gap-12">
            <!-- Profile Picture Section -->
            <div class="ds-card p-8 text-center">
              <h3 class="text-2xl font-serif text-gold mb-6">Profile Picture</h3>
              <div class="relative w-32 h-32 mx-auto mb-6">
                <img id="profile-pic-display" src="DremSyncLogo.png" alt="Profile" class="w-full h-full rounded-full border-2 border-gold/50 object-cover">
                <div class="absolute inset-0 bg-black/50 rounded-full opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center">
                  <label for="profile-pic-upload" class="cursor-pointer text-white text-sm font-mono">Change</label>
                </div>
              </div>
              <input type="file" id="profile-pic-upload" accept="image/*" class="hidden" onchange="uploadProfilePic()">
              <p class="text-xs text-zinc-500">Click to upload new picture</p>
            </div>

            <!-- Personal Info Section -->
            <div class="ds-card p-8">
              <h3 class="text-2xl font-serif text-gold mb-6">Personal Information</h3>
              <div class="space-y-4">
                <div>
                  <label class="text-sm font-mono text-gold uppercase tracking-widest">Username</label>
                  <input type="text" id="profile-username-edit" class="input-field mt-2" readonly>
                </div>
                <div>
                  <label class="text-sm font-mono text-gold uppercase tracking-widest">Email</label>
                  <input type="email" id="profile-email-edit" class="input-field mt-2">
                </div>
                <div>
                  <label class="text-sm font-mono text-gold uppercase tracking-widest">Bio</label>
                  <textarea id="profile-bio" class="input-field mt-2 h-24 resize-none" placeholder="Tell us about yourself..."></textarea>
                </div>
                <button onclick="saveProfileInfo()" class="btn-download w-full">Save Changes</button>
              </div>
            </div>

            <!-- Account Settings Section -->
            <div class="ds-card p-8">
              <h3 class="text-2xl font-serif text-gold mb-6">Account Settings</h3>
              <div class="space-y-4">
                <div>
                  <label class="text-sm font-mono text-gold uppercase tracking-widest">Change Password</label>
                  <input type="password" id="profile-new-password" class="input-field mt-2" placeholder="New password">
                </div>
                <div class="flex items-center justify-between">
                  <span class="text-sm font-mono text-gold uppercase tracking-widest">Email Notifications</span>
                  <input type="checkbox" id="email-notifications" class="toggle-checkbox">
                </div>
                <div class="flex items-center justify-between">
                  <span class="text-sm font-mono text-gold uppercase tracking-widest">Dark Mode</span>
                  <input type="checkbox" id="dark-mode" class="toggle-checkbox" checked>
                </div>
                <div class="flex items-center justify-between">
                  <span class="text-sm font-mono text-gold uppercase tracking-widest">Auto-save</span>
                  <input type="checkbox" id="auto-save" class="toggle-checkbox" checked>
                </div>
                <button onclick="saveSettings()" class="btn-download w-full">Save Settings</button>
                <button onclick="logoutUser()" class="text-red-400 hover:text-red-300 text-sm font-mono uppercase tracking-widest mt-4">Logout</button>
              </div>
            </div>
          </div>

          <!-- Activity Section -->
          <div class="ds-card p-8 mt-12">
            <h3 class="text-2xl font-serif text-gold mb-6">Recent Activity</h3>
            <div id="activity-log" class="space-y-4">
              <div class="flex items-center gap-4 p-4 bg-white/5 rounded-lg">
                <div class="w-2 h-2 bg-gold rounded-full"></div>
                <span class="text-sm text-zinc-400">Account created - Dec 23, 2025</span>
              </div>
              <div class="flex items-center gap-4 p-4 bg-white/5 rounded-lg">
                <div class="w-2 h-2 bg-gold rounded-full"></div>
                <span class="text-sm text-zinc-400">Profile updated - Dec 23, 2025</span>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
    
    <footer class="py-20 border-t border-white/5 mt-20 text-center">
      <div class="opacity-30 flex flex-col items-center gap-4">
        <span class="text-[10px] font-mono tracking-[0.5em] uppercase">DreamSync Studios Collective</span>
        <span class="text-[9px] font-mono tracking-widest">©2025 DreamSync Studios. All rights reserved</span>
        <div class="flex gap-8 mt-4">
          <a href="https://x.com/DreamsyncS" class="hover:text-gold transition-colors text-[9px] font-mono uppercase tracking-widest">X (Twitter)</a>
          <a href="https://discord.gg/KMAcT2pWdw" class="hover:text-gold transition-colors text-[9px] font-mono uppercase tracking-widest">Discord</a>
          <a href="https://www.instagram.com/drea.msyncstudios/" class="hover:text-gold transition-colors text-[9px] font-mono uppercase tracking-widest">Instagram</a>
        </div>
      </div>
    </footer>
  </div>

  <script>
    /**
     * DREAMSYNC CORE ENGINE v4.0.2
     * Architecture by Aneesh Saraswat & Nathan Pinto
     */

    const CONFIG = {
      ADMIN_KEY: "DS-2025-ADMIN",
      STAR_COUNT: 200,
      CURSOR_LERP: 0.15,
      PULSE_DUR_MIN: 2,
      PULSE_DUR_MAX: 6,
      FORMSPREE_ENDPOINT: "https://formspree.io/f/xwveydqo" // Replace with your Formspree form URL
    };

    
    // --- HARD ADMIN GUARD ---
    function requireAdmin(action = "This action") {
      if (!state.isAdmin) {
        console.warn(`Blocked unauthorized attempt: ${action}`);
        alert("ACCESS DENIED — ADMIN AUTHENTICATION REQUIRED");
        throw new Error("Unauthorized admin access blocked: " + action);
      }
    }


    let state = {
      isAdmin: false,
      currentTab: 'home',
      currentUser: JSON.parse(localStorage.getItem('ds_current_user')) || null,
      users: JSON.parse(localStorage.getItem('ds_users')) || [],
      profilePic: localStorage.getItem('ds_profile_pic') || 'DremSyncLogo.png',
      bio: localStorage.getItem('ds_bio') || '',
      settings: JSON.parse(localStorage.getItem('ds_settings')) || {
        emailNotifications: true,
        darkMode: true,
        autoSave: true
      },
      logs: JSON.parse(localStorage.getItem('ds_logs')) || [
        { 
          id: 1, 
          title: "Welcome to DreamSync Studios", 
          body: "The official DreamSync Studios website is now live! This platform serves as a hub for us to communicate with users and a place where users can see upcoming features and updates!", 
          date: "DEC 22 2025",
          author: "Aneesh Saraswat"
        },
        { 
          id: 2, 
          title: "Screaming Forest v1.2", 
          body: "We are excited to announce the upcoming release of Screaming Forest v1.2! This update brings significant improvements to the game's atmosphere and gameplay mechanics, enhancing the overall experience for our players.", 
          date: "DEC 22 2025",
          author: "Aneesh Saraswat"
        }
      ]
    };

    /**
     * Initialize Engine
     */
    window.addEventListener('DOMContentLoaded', () => {
      initBackground();
      initCursor();
      checkAuth();
      initScrollEffects();
      initContactForm();
      initAnimations();
      
      // Initial Reveal
      gsap.to('.reveal', {
        opacity: 1,
        y: 0,
        stagger: 0.1,
        duration: 1.5,
        ease: "power4.out",
        delay: 0.5
      });
    });

    /**
     * Starfield Matrix Generator
     */
    function initBackground() {
      const container = document.getElementById('stars-container');
      for (let i = 0; i < CONFIG.STAR_COUNT; i++) {
        const star = document.createElement('div');
        star.className = 'star';
        const size = Math.random() * 2 + 0.5;
        const dur = Math.random() * (CONFIG.PULSE_DUR_MAX - CONFIG.PULSE_DUR_MIN) + CONFIG.PULSE_DUR_MIN;
        
        star.style.width = `${size}px`;
        star.style.height = `${size}px`;
        star.style.left = `${Math.random() * 100}%`;
        star.style.top = `${Math.random() * 100}%`;
        star.style.setProperty('--d', `${dur}s`);
        star.style.opacity = Math.random();
        
        container.appendChild(star);
      }
    }

    /**
     * Precision Custom Cursor
     */
    function initCursor() {
      const cursor = document.getElementById('custom-cursor');
      const dot = document.getElementById('cursor-dot');
      let mouseX = 0, mouseY = 0;
      let ballX = 0, ballY = 0;

      window.addEventListener('mousemove', (e) => {
        mouseX = e.clientX;
        mouseY = e.clientY;
        gsap.set(dot, { x: mouseX, y: mouseY });
      });

      // Smooth lerp for outer cursor ring
      gsap.ticker.add(() => {
        ballX += (mouseX - ballX) * CONFIG.CURSOR_LERP;
        ballY += (mouseY - ballY) * CONFIG.CURSOR_LERP;
        gsap.set(cursor, { x: ballX, y: ballY });
      });

      // Interactive hover states
      document.querySelectorAll('button, a, .ds-card, input, textarea').forEach(el => {
        el.addEventListener('mouseenter', () => {
          gsap.to(cursor, { 
            width: 80, 
            height: 80, 
            background: 'rgba(212, 175, 55, 0.05)', 
            borderColor: 'rgba(212, 175, 55, 0.8)',
            duration: 0.4,
            ease: "power2.out"
          });
          gsap.to(dot, { scale: 2, duration: 0.3 });
        });
        el.addEventListener('mouseleave', () => {
          gsap.to(cursor, { 
            width: 20, 
            height: 20, 
            background: 'transparent', 
            borderColor: 'var(--gold)',
            duration: 0.4,
            ease: "power2.out"
          });
          gsap.to(dot, { scale: 1, duration: 0.3 });
        });
      });
    }

    /**
     * Game File Deployment Logic
     */
    function downloadGame(filename, customUrl) {
      const btn = event.currentTarget;
      const originalContent = btn.innerHTML;
      
      // Loading State Simulation
      btn.classList.add('pointer-events-none');
      btn.innerHTML = `
        <svg class="animate-spin h-4 w-4 mr-2" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" fill="none"></circle>
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
        </svg>
        Syncing...
      `;

      setTimeout(() => {
        const link = document.createElement('a');
        
        // Use relative path for local assets
        if (customUrl) {
          link.href = customUrl;
        } else {
          // Placeholder blob for missing assets
          const blob = new Blob(["DreamSync Encrypted File Data Stream"], { type: 'text/plain' });
          link.href = window.URL.createObjectURL(blob);
        }

        link.setAttribute('download', filename);
        link.style.display = 'none';
        document.body.appendChild(link);
        link.click();
        
        // UX Transition
        btn.innerHTML = "Complete";
        btn.style.background = "#22c55e";
        
        setTimeout(() => {
          document.body.removeChild(link);
          btn.innerHTML = originalContent;
          btn.style.background = "";
          btn.classList.remove('pointer-events-none');
        }, 3000);
      }, 1800);
    }

    /**
     * View Switcher Logic
     */
    function switchToTab(id) {
      if (id === state.currentTab) return;
      
      const current = document.getElementById('content-' + state.currentTab);
      const next = document.getElementById('content-' + id);
      
      // Nav State
      document.querySelectorAll('.nav-link').forEach(link => link.classList.remove('active'));
      const activeLink = document.getElementById('nav-' + id);
      if(activeLink) activeLink.classList.add('active');

      // Transition Sequence
      gsap.to(current, { 
        opacity: 0, 
        y: 40, 
        duration: 0.6, 
        ease: "power4.inOut",
        onComplete: () => {
          current.classList.remove('active');
          next.classList.add('active');
          
          gsap.fromTo(next, 
            { opacity: 0, y: -40 }, 
            { opacity: 1, y: 0, duration: 0.8, ease: "power4.out" }
          );

          // Re-trigger reveal animations in the new section
          const reveals = next.querySelectorAll('.reveal');
          gsap.fromTo(reveals, 
            { opacity: 0, y: 30 }, 
            { opacity: 1, y: 0, stagger: 0.1, duration: 1, ease: "power2.out" }
          );
        }
      });
      
      state.currentTab = id;
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    /**
     * Staff Authentication Logic
     */
    function toggleAdmin(show) {
      const panel = document.getElementById('admin-panel');
      if(show) {
        panel.style.display = 'flex';
        gsap.from(panel.querySelector('.ds-card'), { scale: 0.9, opacity: 0, duration: 0.5, ease: "back.out(1.7)" });
        document.getElementById('admin-pass').focus();
      } else {
        gsap.to(panel.querySelector('.ds-card'), { scale: 0.9, opacity: 0, duration: 0.3, onComplete: () => {
          panel.style.display = 'none';
        }});
      }
    }

    function toggleLogin(show) {
      const panel = document.getElementById('login-panel');
      if(show) {
        panel.style.display = 'flex';
        gsap.from(panel.querySelector('.ds-card'), { scale: 0.9, opacity: 0, duration: 0.5, ease: "back.out(1.7)" });
        document.getElementById('login-username').focus();
      } else {
        gsap.to(panel.querySelector('.ds-card'), { scale: 0.9, opacity: 0, duration: 0.3, onComplete: () => {
          panel.style.display = 'none';
        }});
      }
    }

    function toggleRegister(show) {
      const panel = document.getElementById('register-panel');
      if(show) {
        panel.style.display = 'flex';
        gsap.from(panel.querySelector('.ds-card'), { scale: 0.9, opacity: 0, duration: 0.5, ease: "back.out(1.7)" });
        document.getElementById('register-email').focus();
      } else {
        gsap.to(panel.querySelector('.ds-card'), { scale: 0.9, opacity: 0, duration: 0.3, onComplete: () => {
          panel.style.display = 'none';
        }});
      }
    }

    function authAdmin() {
      const pass = document.getElementById('admin-pass').value;
      if (pass === CONFIG.ADMIN_KEY) {
        state.isAdmin = true;
        document.body.classList.add('admin-logged-in');
        toggleAdmin(false);
        renderLogs();
        // Visual notification
        const terminalBtn = document.querySelector('header button');
        terminalBtn.innerHTML = "AUTHORIZED";
        terminalBtn.style.color = "var(--gold)";
      } else {
        document.getElementById('admin-pass').classList.add('border-red-500');
        gsap.to('#admin-panel .ds-card', { x: [-10, 10, -10, 10, 0], duration: 0.4 });
        setTimeout(() => document.getElementById('admin-pass').classList.remove('border-red-500'), 1000);
      }
    }

    function loginUser() {
      const username = document.getElementById('login-username').value;
      const password = document.getElementById('login-password').value;
      
      if (username === 'dreamsyncstudios04@gmail.com' && password === CONFIG.ADMIN_KEY) {
        state.currentUser = { email: username, username: 'admin' };
        state.isAdmin = true;
        document.body.classList.add('admin-logged-in');
        localStorage.setItem('ds_current_user', JSON.stringify(state.currentUser));
        toggleLogin(false);
        updateHeader();
        renderLogs();
        alert('Admin login successful!');
      } else {
        const user = state.users.find(u => u.username === username && u.password === password);
        if (user) {
          state.currentUser = user;
          state.isAdmin = false;
          document.body.classList.remove('admin-logged-in');
          localStorage.setItem('ds_current_user', JSON.stringify(state.currentUser));
          toggleLogin(false);
          updateHeader();
          renderLogs();
          alert('Login successful!');
        } else {
          alert('Invalid username or password');
        }
      }
    }

    function registerUser() {
      const email = document.getElementById('register-email').value;
      const username = document.getElementById('register-username').value;
      const password = document.getElementById('register-password').value;
      
      if (!email || !username || !password) {
        alert('Please fill all fields');
        return;
      }
      
      const existingUser = state.users.find(u => u.username === username || u.email === email);
      if (existingUser) {
        alert('Username or email already exists');
        return;
      }
      
      const newUser = { email, username, password };
      state.users.push(newUser);
      localStorage.setItem('ds_users', JSON.stringify(state.users));
      
      // Send notification via Formspree
      const formData = new FormData();
      formData.append('name', username);
      formData.append('email', email);
      formData.append('message', `New user registered: ${username} (${email})`);
      
      fetch(CONFIG.FORMSPREE_ENDPOINT, {
        method: 'POST',
        body: formData,
        headers: { 'Accept': 'application/json' }
      }).then(() => {
        console.log('Registration notification sent');
      }).catch(err => console.error('Failed to send notification:', err));
      
      toggleRegister(false);
      alert('Registration successful! You can now login.');
    }

    function toggleProfile(show) {
      const panel = document.getElementById('profile-panel');
      if(show) {
        panel.style.display = 'flex';
        gsap.from(panel.querySelector('.ds-card'), { scale: 0.9, opacity: 0, duration: 0.5, ease: "back.out(1.7)" });
        // Populate fields
        document.getElementById('profile-email').value = state.currentUser.email;
        document.getElementById('profile-username').value = state.currentUser.username;
        document.getElementById('profile-password').value = '';
        document.getElementById('profile-email').focus();
      } else {
        gsap.to(panel.querySelector('.ds-card'), { scale: 0.9, opacity: 0, duration: 0.3, onComplete: () => {
          panel.style.display = 'none';
        }});
      }
    }

    function toggleForgot(show) {
      const panel = document.getElementById('forgot-panel');
      if(show) {
        panel.style.display = 'flex';
        gsap.from(panel.querySelector('.ds-card'), { scale: 0.9, opacity: 0, duration: 0.5, ease: "back.out(1.7)" });
        document.getElementById('forgot-email').focus();
      } else {
        gsap.to(panel.querySelector('.ds-card'), { scale: 0.9, opacity: 0, duration: 0.3, onComplete: () => {
          panel.style.display = 'none';
        }});
      }
    }

    function updateProfile() {
      const email = document.getElementById('profile-email').value;
      const username = document.getElementById('profile-username').value;
      const password = document.getElementById('profile-password').value;
      
      if (!email || !username) {
        alert('Email and username are required');
        return;
      }
      
      // Check if email or username conflicts with others
      const conflict = state.users.find(u => (u.username === username || u.email === email) && u !== state.currentUser);
      if (conflict) {
        alert('Username or email already taken');
        return;
      }
      
      state.currentUser.email = email;
      state.currentUser.username = username;
      if (password) {
        state.currentUser.password = password;
      }
      
      // Update in users array
      const index = state.users.findIndex(u => u.username === state.currentUser.username);
      if (index !== -1) {
        state.users[index] = state.currentUser;
        localStorage.setItem('ds_users', JSON.stringify(state.users));
      }
      
      localStorage.setItem('ds_current_user', JSON.stringify(state.currentUser));
      updateHeader();
      toggleProfile(false);
      alert('Profile updated!');
    }

    function logoutUser() {
      state.currentUser = null;
      state.isAdmin = false;
      document.body.classList.remove('admin-logged-in');
      localStorage.removeItem('ds_current_user');
      updateHeader();
      renderLogs();
      toggleProfile(false);
      alert('Logged out!');
    }

    function resetPassword() {
      const email = document.getElementById('forgot-email').value;
      if (!email) {
        alert('Please enter your email');
        return;
      }
      
      // Send reset request via Formspree
      const formData = new FormData();
      formData.append('name', 'Password Reset Request');
      formData.append('email', email);
      formData.append('message', `Password reset requested for: ${email}`);
      
      fetch(CONFIG.FORMSPREE_ENDPOINT, {
        method: 'POST',
        body: formData,
        headers: { 'Accept': 'application/json' }
      }).then(() => {
        alert('Password reset request sent! Check your email.');
        toggleForgot(false);
      }).catch(err => {
        console.error('Failed to send reset request:', err);
        alert('Failed to send reset request. Try again.');
      });
    }

    function checkAuth() {
      if (state.currentUser) {
        if (state.currentUser.email === 'dreamsyncstudios04@gmail.com') {
          state.isAdmin = true;
          document.body.classList.add('admin-logged-in');
        } else {
          state.isAdmin = false;
          document.body.classList.remove('admin-logged-in');
        }
      } else {
        state.isAdmin = false;
        document.body.classList.remove('admin-logged-in');
      }
      updateHeader();
      renderLogs();
    }

    function updateHeader() {
      const loginBtn = document.getElementById('login-btn');
      const registerBtn = document.getElementById('register-btn');
      const profileDiv = document.getElementById('user-profile');
      const profileUsername = document.getElementById('profile-username');
      
      if (state.currentUser) {
        loginBtn.classList.add('hidden');
        registerBtn.classList.add('hidden');
        profileDiv.classList.remove('hidden');
        profileUsername.textContent = state.currentUser.username;
      } else {
        loginBtn.classList.remove('hidden');
        registerBtn.classList.remove('hidden');
        profileDiv.classList.add('hidden');
      }
    }

    /**
     * Contact Protocol
     */
    function initContactForm() {
      const form = document.getElementById('contact-form');
      const feedback = document.getElementById('form-feedback');
      if (!form) return;
      
      form.onsubmit = (e) => {
        e.preventDefault();
        feedback.classList.remove('hidden');
        feedback.textContent = "UPLOADING DATA PACKETS...";
        
        gsap.to(form, { opacity: 0.5, pointerEvents: 'none', duration: 0.4 });

        const formData = new FormData(form);

        fetch(CONFIG.FORMSPREE_ENDPOINT, {
          method: 'POST',
          body: formData,
          headers: {
            'Accept': 'application/json'
          }
        })
        .then(response => {
          if (response.ok) {
            feedback.textContent = "TRANSMISSION SUCCESSFUL.";
            gsap.to(form, { opacity: 1, pointerEvents: 'auto', duration: 0.4 });
            form.reset();
            setTimeout(() => feedback.classList.add('hidden'), 5000);
          } else {
            throw new Error('Network response was not ok.');
          }
        })
        .catch(error => {
          console.error('Form submission failed:', error);
          feedback.textContent = "TRANSMISSION FAILED. PLEASE TRY AGAIN.";
          gsap.to(form, { opacity: 1, pointerEvents: 'auto', duration: 0.4 });
          setTimeout(() => feedback.classList.add('hidden'), 5000);
        });
      };
    }

    /**
     * Intersection Mechanics
     */
    function initScrollEffects() {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => { 
          if (entry.isIntersecting) {
            entry.target.classList.add('active');
          }
        });
      }, { threshold: 0.1, rootMargin: '0px 0px -50px 0px' });
      
      document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
    }

    /**
     * Aesthetic Details
     */
    function initAnimations() {
      // Dynamic glare on cards based on mouse position
      document.addEventListener('mousemove', e => {
        document.querySelectorAll('.ds-card').forEach(card => {
          const rect = card.getBoundingClientRect();
          const x = e.clientX - rect.left;
          const y = e.clientY - rect.top;
          card.style.setProperty('--mouse-x', `${x}px`);
          card.style.setProperty('--mouse-y', `${y}px`);
        });
      });
    }

    /**
     * Data Registry (Logs)
     */
    function renderLogs() {
      const list = document.getElementById('logs-list');
      if (!list) return;
      
      list.innerHTML = state.logs.map((log, index) => `
        <div class="ds-card group reveal active" style="transition-delay: ${index * 0.1}s">
          <div class="flex justify-between items-start mb-6">
            <div>
              <span class="text-[9px] font-mono text-gold mb-2 block tracking-widest uppercase">Registry Entry #${log.id}</span>
              <h3 class="text-3xl font-serif text-white group-hover:text-gold transition-colors">${log.title}</h3>
            </div>
            <div class="text-right">
              <span class="text-[10px] font-mono text-zinc-600 block uppercase">${log.date}</span>
              <span class="text-[9px] font-mono text-zinc-800 block">AUTH: ${log.author || 'ROOT'}</span>
            </div>
          </div>
          <p class="text-text-dim text-sm leading-relaxed font-light">${log.body}</p>
          
          ${state.isAdmin ? `
          <div class="mt-8 flex items-center justify-between pt-6 border-t border-white/5">
            <div class="flex gap-4">
              <button onclick="editLog(${log.id})" class="text-[9px] font-mono text-gold hover:underline tracking-widest uppercase">Modify</button>
              <button onclick="deleteLog(${log.id})" class="text-[9px] font-mono text-red-400 hover:text-red-300 tracking-widest uppercase">Purge</button>
            </div>
            <span class="text-[8px] font-mono text-zinc-800">ENCRYPTION: AES-256</span>
          </div>` : ``}
        </div>
      `).join('');
    }

    function addLog() {
      requireAdmin('Add Log');
      const title = prompt("ENTER REGISTRY TITLE:");
      const body = prompt("ENTER REGISTRY PAYLOAD:");
      if (title && body) {
        state.logs.unshift({ 
          id: Date.now(), 
          title, 
          body, 
          date: new Date().toLocaleDateString('en-US', { month: 'short', year: 'numeric' }).toUpperCase(),
          author: state.isAdmin ? "FOUNDER" : "GUEST"
        });
        localStorage.setItem('ds_logs', JSON.stringify(state.logs));
        renderLogs();
      }
    }

    function deleteLog(id) {
      requireAdmin('Delete Log');
      if (confirm("PURGE THIS DATA PACKET PERMANENTLY?")) {
        state.logs = state.logs.filter(l => l.id !== id);
        localStorage.setItem('ds_logs', JSON.stringify(state.logs));
        renderLogs();
      }
    }

    function editLog(id) {
      requireAdmin('Edit Log');
      const log = state.logs.find(l => l.id === id);
      const newBody = prompt("MODIFY PAYLOAD:", log.body);
      if (newBody !== null) {
        log.body = newBody;
        localStorage.setItem('ds_logs', JSON.stringify(state.logs));
        renderLogs();
      }
    }

    // Force scroll to top on reload
    window.onbeforeunload = function () {
      window.scrollTo(0, 0);
    }
  
    // === ADDITIVE FEATURES v1 ===
    // Magnetic buttons
    document.querySelectorAll('.btn-download, .nav-link').forEach(el => {
      el.classList.add('magnetic');
      el.addEventListener('mousemove', e => {
        const r = el.getBoundingClientRect();
        const dx = (e.clientX - (r.left + r.width/2)) * 0.15;
        const dy = (e.clientY - (r.top + r.height/2)) * 0.15;
        el.style.transform = `translate(${dx}px, ${dy}px)`;
      });
      el.addEventListener('mouseleave', () => el.style.transform = '');
    });

    // Click ripple
    document.addEventListener('click', e => {
      const t = e.target.closest('button, .btn-download');
      if (!t) return;
      const r = document.createElement('span');
      r.className = 'ripple';
      const rect = t.getBoundingClientRect();
      r.style.left = (e.clientX - rect.left) + 'px';
      r.style.top = (e.clientY - rect.top) + 'px';
      t.style.position = 'relative';
      t.appendChild(r);
      setTimeout(() => r.remove(), 650);
    });

    // Reading progress bar
    const prog = document.createElement('div');
    prog.style.cssText = 'position:fixed;left:0;top:0;height:2px;background:var(--gold);z-index:9999;width:0%';
    document.body.appendChild(prog);
    window.addEventListener('scroll', () => {
      const h = document.documentElement;
      const sc = (h.scrollTop || document.body.scrollTop);
      const max = (h.scrollHeight - h.clientHeight);
      prog.style.width = ((sc / max) * 100) + '%';
    });

    // Logs hover highlight for regular users
    document.addEventListener('mouseover', e => {
      const card = e.target.closest('.ds-card');
      if (card && !state.isAdmin) {
        card.style.boxShadow = '0 10px 30px rgba(212,175,55,.12)';
      }
    });
    document.addEventListener('mouseout', e => {
      const card = e.target.closest('.ds-card');
      if (card && !state.isAdmin) {
        card.style.boxShadow = '';
      }
    });


  </script>
</body>
</html>
